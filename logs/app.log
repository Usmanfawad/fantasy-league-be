2025-08-13 14:11:11.613 | INFO     | app.main:dispatch:135 - Request started
2025-08-13 14:11:11.616 | INFO     | app.main:dispatch:137 - Request completed
2025-08-13 14:11:11.702 | INFO     | app.main:dispatch:135 - Request started
2025-08-13 14:11:11.703 | INFO     | app.main:dispatch:137 - Request completed
2025-08-13 14:11:17.681 | INFO     | app.main:dispatch:135 - Request started
2025-08-13 14:11:17.683 | INFO     | app.main:dispatch:137 - Request completed
2025-08-13 14:11:18.995 | INFO     | app.main:dispatch:135 - Request started
2025-08-13 14:11:19.003 | INFO     | app.main:dispatch:137 - Request completed
2025-08-13 17:30:33.650 | INFO     | app.main:dispatch:135 - Request started
2025-08-13 17:30:33.652 | INFO     | app.main:dispatch:137 - Request completed
2025-08-13 17:30:33.846 | INFO     | app.main:dispatch:135 - Request started
2025-08-13 17:30:33.866 | INFO     | app.main:dispatch:137 - Request completed
2025-08-13 18:50:31.473 | INFO     | app.main:dispatch:142 - Request started
2025-08-13 18:50:31.477 | INFO     | app.main:dispatch:144 - Request completed
2025-08-13 18:50:31.681 | INFO     | app.main:dispatch:142 - Request started
2025-08-13 18:50:31.697 | INFO     | app.main:dispatch:144 - Request completed
2025-08-13 18:52:07.408 | INFO     | app.main:dispatch:142 - Request started
2025-08-13 18:52:07.433 | INFO     | app.main:dispatch:144 - Request completed
2025-08-13 18:53:22.298 | INFO     | app.main:dispatch:142 - Request started
2025-08-13 18:53:22.298 | WARNING  | app.main:http_exception_handler:111 - HTTPException on GET http://127.0.0.1:8000/api/v1/managers/1/squad: Not authenticated
2025-08-13 18:53:22.298 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:26:15.741 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:26:15.743 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:26:15.971 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:26:15.992 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:26:26.749 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:26:26.751 | WARNING  | app.main:http_exception_handler:111 - HTTPException on GET http://127.0.0.1:8000/api/v1/users/1: Not authenticated
2025-08-14 19:26:26.752 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:38:59.699 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:38:59.701 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:38:59.921 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:38:59.922 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:38:59.975 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:38:59.977 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:39:00.193 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:39:00.197 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:39:14.351 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:39:14.379 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:40:41.901 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:40:42.257 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:40:44.895 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:40:45.101 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:41:02.856 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:41:02.866 | WARNING  | app.main:http_exception_handler:111 - HTTPException on GET http://127.0.0.1:8000/api/v1/users/1: You don't have permission to perform this action
2025-08-14 19:41:02.867 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:41:53.263 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:41:53.269 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:42:00.063 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:42:00.286 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:42:04.036 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:42:04.238 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:42:17.465 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:42:17.483 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:42:28.054 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:42:28.072 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:42:50.427 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:42:50.435 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:48:58.743 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:48:58.814 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:50:55.651 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:50:55.665 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:51:22.368 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:51:22.398 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 19:54:54.633 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 19:54:54.655 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 20:01:37.496 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 20:01:37.534 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 20:02:18.730 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 20:02:18.752 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 20:02:27.242 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 20:02:27.254 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 20:02:48.023 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 20:02:48.037 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 20:07:55.985 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 20:07:56.234 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 20:07:57.269 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 20:07:57.497 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 20:07:58.250 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 20:07:58.480 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 20:07:59.134 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 20:07:59.361 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 20:08:00.066 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 20:08:00.285 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 20:08:00.944 | INFO     | app.main:dispatch:142 - Request started
2025-08-14 20:08:00.947 | INFO     | app.main:dispatch:144 - Request completed
2025-08-14 21:45:25.477 | INFO     | app.main:dispatch:146 - Request started
2025-08-14 21:45:25.477 | INFO     | app.main:dispatch:148 - Request completed
2025-08-14 21:45:25.651 | INFO     | app.main:dispatch:146 - Request started
2025-08-14 21:45:25.669 | INFO     | app.main:dispatch:148 - Request completed
2025-08-18 22:51:02.967 | INFO     | app.main:dispatch:146 - Request started
2025-08-18 22:51:02.975 | INFO     | app.main:dispatch:148 - Request completed
2025-08-18 22:51:04.089 | INFO     | app.main:dispatch:146 - Request started
2025-08-18 22:51:04.120 | INFO     | app.main:dispatch:148 - Request completed
2025-08-18 22:54:42.659 | INFO     | app.main:dispatch:146 - Request started
2025-08-18 22:54:42.945 | INFO     | app.main:dispatch:148 - Request completed
2025-08-18 23:05:00.805 | INFO     | app.main:dispatch:146 - Request started
2025-08-18 23:05:00.809 | INFO     | app.main:dispatch:148 - Request completed
2025-08-18 23:05:01.105 | INFO     | app.main:dispatch:146 - Request started
2025-08-18 23:05:01.126 | INFO     | app.main:dispatch:148 - Request completed
2025-08-18 23:05:06.657 | INFO     | app.main:dispatch:146 - Request started
2025-08-18 23:05:06.955 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:28:56.605 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:28:56.608 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:28:57.575 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:28:57.610 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:29:08.954 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:29:09.002 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:29:16.210 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:29:16.222 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:31:22.680 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:31:23.453 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:31:35.636 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:31:36.362 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:34:05.965 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:34:06.671 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:34:46.592 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:34:46.626 | WARNING  | app.main:http_exception_handler:115 - HTTPException on GET http://127.0.0.1:8000/api/v1/managers/me: Authentication error: 'User' object has no attribute 'is_active'
2025-08-20 04:34:46.626 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:37:11.867 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:37:11.900 | WARNING  | app.main:http_exception_handler:115 - HTTPException on GET http://127.0.0.1:8000/api/v1/managers/me: Authentication error: 401: Manager not found
2025-08-20 04:37:11.900 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:39:05.098 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:39:05.841 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:39:20.357 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:39:21.023 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:39:38.372 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:39:38.398 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:40:04.257 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:40:04.723 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 04:40:23.799 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 04:40:23.810 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:04:58.481 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:04:58.483 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:04:58.782 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:04:58.900 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:05:19.148 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:05:19.201 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:12:42.028 | INFO     | app.main:dispatch:148 - Request started
2025-08-20 05:12:42.029 | INFO     | app.main:dispatch:150 - Request completed
2025-08-20 05:12:42.305 | INFO     | app.main:dispatch:148 - Request started
2025-08-20 05:12:42.334 | INFO     | app.main:dispatch:150 - Request completed
2025-08-20 05:24:11.153 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:11.171 | WARNING  | app.main:validation_exception_handler:98 - Validation error on POST http://localhost:8000/api/v1/gameweeks: [{'type': 'missing', 'loc': ('query', 'gw_number'), 'msg': 'Field required', 'input': None}]
2025-08-20 05:24:11.171 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:24:11.453 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:11.681 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:24:11.930 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:11.940 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:24:12.203 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:12.206 | WARNING  | app.main:http_exception_handler:115 - HTTPException on GET http://localhost:8000/api/v1/auth/me: Could not validate credentials
2025-08-20 05:24:12.206 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:24:12.452 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:12.480 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:24:12.751 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:12.751 | WARNING  | app.main:validation_exception_handler:98 - Validation error on GET http://localhost:8000/api/v1/players/stats?sort=goals&page=1&page_size=20: [{'type': 'int_parsing', 'loc': ('path', 'player_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'stats'}]
2025-08-20 05:24:12.751 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:24:13.012 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:13.014 | WARNING  | app.main:validation_exception_handler:98 - Validation error on POST http://localhost:8000/api/v1/managers/PASTE_YOUR_MANAGER_ID_HERE/squad: [{'type': 'json_invalid', 'loc': ('body', 29), 'msg': 'JSON decode error', 'input': {}, 'ctx': {'error': 'Expecting value'}}]
2025-08-20 05:24:13.015 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:24:13.417 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:13.419 | WARNING  | app.main:http_exception_handler:115 - HTTPException on GET http://localhost:8000/api/v1/managers/PASTE_YOUR_MANAGER_ID_HERE/squad: Could not validate credentials
2025-08-20 05:24:13.419 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:24:13.722 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:13.722 | WARNING  | app.main:http_exception_handler:115 - HTTPException on GET http://localhost:8000/api/v1/managers/PASTE_YOUR_MANAGER_ID_HERE/overview: Could not validate credentials
2025-08-20 05:24:13.722 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:24:14.002 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:14.002 | WARNING  | app.main:http_exception_handler:115 - HTTPException on POST http://localhost:8000/api/v1/managers/PASTE_YOUR_MANAGER_ID_HERE/transfers: Could not validate credentials
2025-08-20 05:24:14.002 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:24:14.284 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:14.306 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:24:14.580 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:24:14.592 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:49:51.119 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:49:51.122 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:49:51.314 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:49:51.323 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:52:02.389 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:52:02.411 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:52:13.700 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:52:13.709 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:53:46.477 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:53:46.488 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:54:23.002 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:54:23.055 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:54:32.928 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:54:32.940 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:54:39.752 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:54:39.759 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 05:57:57.071 | INFO     | app.main:dispatch:146 - Request started
2025-08-20 05:57:57.072 | WARNING  | app.main:http_exception_handler:115 - HTTPException on GET http://127.0.0.1:8000/api/v1/managers/1/squad: Not authenticated
2025-08-20 05:57:57.072 | INFO     | app.main:dispatch:148 - Request completed
2025-08-20 06:19:23.880 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:19:23.882 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:19:24.023 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:19:24.112 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:19:30.716 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:19:30.738 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:19:42.246 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:19:42.251 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:21:31.632 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:21:31.744 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:21:45.904 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:21:45.913 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:21:59.920 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:21:59.925 | WARNING  | app.main:validation_exception_handler:107 - Validation error on GET http://127.0.0.1:8000/api/v1/players/stats?gw_id=1&sort=cumulative_points&page=1&page_size=20: [{'type': 'int_parsing', 'loc': ('path', 'player_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'stats'}]
2025-08-20 06:21:59.925 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:23:56.389 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:23:56.390 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:23:56.498 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:23:56.564 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:24:01.678 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:24:01.707 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:24:15.654 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:24:15.659 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:24:34.176 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:24:34.181 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:24:42.516 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:24:42.524 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:24:51.419 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:24:51.423 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:25:09.217 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:25:09.222 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:25:17.127 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:25:17.130 | WARNING  | app.main:validation_exception_handler:107 - Validation error on GET http://127.0.0.1:8000/api/v1/scoring/live: [{'type': 'int_parsing', 'loc': ('path', 'gameweek'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'live'}]
2025-08-20 06:25:17.131 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 06:25:56.919 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 06:25:56.928 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:43:41.935 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:43:41.937 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:43:42.057 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:43:42.265 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:43:59.484 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:43:59.580 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:44:46.809 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:44:46.999 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:47:32.753 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:47:32.973 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:47:55.190 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:47:55.391 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:48:11.088 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:48:11.137 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:48:26.960 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:48:26.992 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:48:35.696 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:48:35.724 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:48:46.876 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:48:46.902 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:48:57.232 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:48:57.559 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:49:37.588 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:49:37.670 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:50:21.744 | INFO     | app.main:dispatch:155 - Request started
2025-08-20 23:50:21.764 | INFO     | app.main:dispatch:157 - Request completed
2025-08-20 23:55:21.662 | INFO     | app.main:dispatch:154 - Request started
2025-08-20 23:55:21.778 | INFO     | app.main:dispatch:156 - Request completed
2025-08-20 23:55:39.802 | INFO     | app.main:dispatch:154 - Request started
2025-08-20 23:55:39.817 | INFO     | app.main:dispatch:156 - Request completed
2025-08-20 23:55:51.289 | INFO     | app.main:dispatch:154 - Request started
2025-08-20 23:55:51.302 | INFO     | app.main:dispatch:156 - Request completed
2025-08-20 23:56:04.417 | INFO     | app.main:dispatch:154 - Request started
2025-08-20 23:56:04.487 | INFO     | app.main:dispatch:156 - Request completed
2025-08-20 23:56:16.088 | INFO     | app.main:dispatch:154 - Request started
2025-08-20 23:56:16.111 | INFO     | app.main:dispatch:156 - Request completed
2025-08-22 09:57:29.812 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 09:57:29.818 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 09:57:30.239 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 09:57:30.279 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 09:57:39.890 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 09:57:40.163 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 10:20:34.432 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 10:20:34.495 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 10:20:43.953 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 10:20:43.986 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 10:40:22.920 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 10:40:22.921 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 10:40:23.087 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 10:40:23.102 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 10:42:12.294 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 10:42:12.295 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 10:42:12.435 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 10:42:12.458 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 10:42:24.970 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 10:42:25.056 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 10:42:27.458 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 10:42:27.464 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 10:42:32.844 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 10:42:32.850 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 10:42:39.983 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 10:42:40.052 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 11:36:28.153 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 11:36:28.188 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 11:36:39.692 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 11:36:39.707 | ERROR    | app.main:unhandled_exception_handler:137 - Unhandled error on GET http://127.0.0.1:8000/api/v1/players/stats?sort=cumulative_points&page=1&page_size=20: 'PlayerService' object has no attribute '_calculate_cumulative_points'
  + Exception Group Traceback (most recent call last):
  |
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 183, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000020A75F58E90>
  |                │     └ <function create_task_group at 0x0000020A7238B2E0>
  |                └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020A75E9F060>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <app.main.RequestLoggingMiddleware object at 0x0000020A755D7D40>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020A755D7DD0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0x0000020A7329F4C0>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError("'PlayerService' object has no attribute '_calculate_cumula...
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x0000020A75558D40>
    |     └ <contextlib._GeneratorContextManager object at 0x0000020A75F5BDD0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000020A75E9F2E0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000020A75F59B80>
    |                      │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x0000020A755D7D40>>
    |                      └ <app.main.RequestLoggingMiddleware object at 0x0000020A755D7D40>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    |     response: Response = await call_next(request)
    |                                │         └ <starlette.middleware.base._CachedRequest object at 0x0000020A75F59B80>
    |                                └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000020A75E9F2E0>
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |           └ AttributeError("'PlayerService' object has no attribute '_calculate_cumulative_points'")
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000020A75FCE8E0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x0000020A755D7D10>
    |           └ <app.main.RequestLoggingMiddleware object at 0x0000020A755D7D40>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |           │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000020A75FCE8E0>
    |           │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |           │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x0000020A734A40B0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000020A75FCE8E0>
    |                            │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |           │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x0000020A73478860>
    |           │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x0000020A734A40B0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000020A755D7CE0>
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x0000020A734A40B0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000020A734A40B0>>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020A755D7CB0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000020A755D7CE0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000020A734A40B0>>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x0000020A75F63410>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000020A75583C80>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020A755D7CB0>
    |           └ <function wrap_app_handling_exceptions at 0x0000020A733BA160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE0C0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x0000020A75583C80>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE0C0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000020A75583C80>>
    |           └ <fastapi.routing.APIRouter object at 0x0000020A75583C80>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE0C0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x0000020A733BB740>
    |           └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE0C0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x0000020A7558F740>
    |           └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE0C0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x0000020A75F62510>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000020A75FCE160>
    |           └ <function wrap_app_handling_exceptions at 0x0000020A733BA160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE2A0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000020A75FCE160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0x0000020A75F62510>
    |                      └ <function get_request_handler.<locals>.app at 0x0000020A7558F880>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x0000020A733B9B20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |                  │                 │         │       └ {'session': <sqlmodel.orm.session.Session object at 0x0000020A75F58260>, 'gw_id': None, 'team_id': None, 'position_id': None,...
    |                  │                 │         └ <function players_stats at 0x0000020A7558CF40>
    |                  │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='gw_id', mode='validation'), ModelField(field...
    |                  └ <function run_in_threadpool at 0x0000020A73167E20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |                  │     │         │        └ functools.partial(<function players_stats at 0x0000020A7558CF40>, session=<sqlmodel.orm.session.Session object at 0x0000020A7...
    |                  │     │         └ <function run_sync at 0x0000020A7230B920>
    |                  │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
    |                  └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |                  └ <function get_async_backend at 0x0000020A72308CC0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    |     return await future
    |                  └ <Future finished exception=AttributeError("'PlayerService' object has no attribute '_calculate_cumulative_points'")>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |
    |   File "C:\Usman\Projects\fantasy-league\app\player\routes.py", line 39, in players_stats
    |     data, total = svc.players_stats(gw_id, team_id, position_id, sort, page, page_size)
    |                   │   │             │      │        │            │     │     └ 20
    |                   │   │             │      │        │            │     └ 1
    |                   │   │             │      │        │            └ 'cumulative_points'
    |                   │   │             │      │        └ None
    |                   │   │             │      └ None
    |                   │   │             └ None
    |                   │   └ <function PlayerService.players_stats at 0x0000020A7558CEA0>
    |                   └ <app.player.service.PlayerService object at 0x0000020A75F615E0>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 213, in players_stats
    |     rows = sorted(rows, key=sort_key, reverse=True)
    |                   │         └ <function PlayerService.players_stats.<locals>.sort_key at 0x0000020A75FDD300>
    |                   └ [(PlayerStat(total_points=19, player_id=1, assists=1, goals_scored=2, red_cards=0, bonus_points=2, created_at=datetime.dateti...
    |
    |   File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 211, in sort_key
    |     return float(self._calculate_cumulative_points(p.player_id, current_gw))
    |                  │                                 │ │          └ 3
    |                  │                                 │ └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x0000020A75311080>
    |                  │                                 └ Player(player_firstname='James', player_fullname='James Santos', team_id=1, position_id=1, is_active=True, player_lastname='S...
    |                  └ <app.player.service.PlayerService object at 0x0000020A75F615E0>
    |
    | AttributeError: 'PlayerService' object has no attribute '_calculate_cumulative_points'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x0000020A6FEF74C0>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x0000020A6FDF0FE0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30980 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000020A6FDF0540>
    └ <SpawnProcess name='SpawnProcess-1' parent=30980 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000020A6FEAF3B0>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30980 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30980 started>
    │    └ <function subprocess_started at 0x0000020A722DA160>
    └ <SpawnProcess name='SpawnProcess-1' parent=30980 started>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=628, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000020A72439B80>>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=628, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000020A722D94E0>
           │       │   └ <uvicorn.server.Server object at 0x0000020A72439B80>
           │       └ <function run at 0x0000020A70535C60>
           └ <module 'asyncio' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\asyncio\\__...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x0000020A72406EA0>
           │      └ <function Runner.run at 0x0000020A71BC71A0>
           └ <asyncio.runners.Runner object at 0x0000020A722ED160>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000020A71BC4E00>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000020A722ED160>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 678, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000020A71BC4D60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 645, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000020A71BC6B60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 1999, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000020A704E4EA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020A7234BFE0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020A75...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000020A726060C0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020A7234BFE0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020A75...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020A75...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020A755D7DD0>
          └ <fastapi.applications.FastAPI object at 0x0000020A726060C0>
> File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020A75E9F060>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.main.RequestLoggingMiddleware object at 0x0000020A755D7D40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020A755D7DD0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x0000020A7329F4C0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError("'PlayerService' object has no attribute '_calculate_cumula...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x0000020A75558D40>
    └ <contextlib._GeneratorContextManager object at 0x0000020A75F5BDD0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000020A75E9F2E0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000020A75F59B80>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x0000020A755D7D40>>
                     └ <app.main.RequestLoggingMiddleware object at 0x0000020A755D7D40>

  File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    response: Response = await call_next(request)
                               │         └ <starlette.middleware.base._CachedRequest object at 0x0000020A75F59B80>
                               └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000020A75E9F2E0>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
          └ AttributeError("'PlayerService' object has no attribute '_calculate_cumulative_points'")
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000020A75FCE8E0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x0000020A755D7D10>
          └ <app.main.RequestLoggingMiddleware object at 0x0000020A755D7D40>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000020A75FCE8E0>
          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.middleware.gzip.GZipResponder object at 0x0000020A734A40B0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000020A75FCE8E0>
                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x0000020A73478860>
          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x0000020A734A40B0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000020A755D7CE0>
          └ <starlette.middleware.gzip.GZipResponder object at 0x0000020A734A40B0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000020A734A40B0>>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020A755D7CB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000020A755D7CE0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000020A734A40B0>>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x0000020A75F63410>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000020A75583C80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020A755D7CB0>
          └ <function wrap_app_handling_exceptions at 0x0000020A733BA160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE0C0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x0000020A75583C80>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE0C0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000020A75583C80>>
          └ <fastapi.routing.APIRouter object at 0x0000020A75583C80>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE0C0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000020A733BB740>
          └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE0C0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000020A7558F740>
          └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE0C0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x0000020A75F62510>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000020A75FCE160>
          └ <function wrap_app_handling_exceptions at 0x0000020A733BA160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000020A75FCE2A0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000020A75FCE840>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000020A75FCE160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x0000020A75F62510>
                     └ <function get_request_handler.<locals>.app at 0x0000020A7558F880>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000020A733B9B20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'session': <sqlmodel.orm.session.Session object at 0x0000020A75F58260>, 'gw_id': None, 'team_id': None, 'position_id': None,...
                 │                 │         └ <function players_stats at 0x0000020A7558CF40>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='gw_id', mode='validation'), ModelField(field...
                 └ <function run_in_threadpool at 0x0000020A73167E20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function players_stats at 0x0000020A7558CF40>, session=<sqlmodel.orm.session.Session object at 0x0000020A7...
                 │     │         └ <function run_sync at 0x0000020A7230B920>
                 │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
                 └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x0000020A72308CC0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("'PlayerService' object has no attribute '_calculate_cumulative_points'")>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "C:\Usman\Projects\fantasy-league\app\player\routes.py", line 39, in players_stats
    data, total = svc.players_stats(gw_id, team_id, position_id, sort, page, page_size)
                  │   │             │      │        │            │     │     └ 20
                  │   │             │      │        │            │     └ 1
                  │   │             │      │        │            └ 'cumulative_points'
                  │   │             │      │        └ None
                  │   │             │      └ None
                  │   │             └ None
                  │   └ <function PlayerService.players_stats at 0x0000020A7558CEA0>
                  └ <app.player.service.PlayerService object at 0x0000020A75F615E0>

  File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 213, in players_stats
    rows = sorted(rows, key=sort_key, reverse=True)
                  │         └ <function PlayerService.players_stats.<locals>.sort_key at 0x0000020A75FDD300>
                  └ [(PlayerStat(total_points=19, player_id=1, assists=1, goals_scored=2, red_cards=0, bonus_points=2, created_at=datetime.dateti...

  File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 211, in sort_key
    return float(self._calculate_cumulative_points(p.player_id, current_gw))
                 │                                 │ │          └ 3
                 │                                 │ └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x0000020A75311080>
                 │                                 └ Player(player_firstname='James', player_fullname='James Santos', team_id=1, position_id=1, is_active=True, player_lastname='S...
                 └ <app.player.service.PlayerService object at 0x0000020A75F615E0>

AttributeError: 'PlayerService' object has no attribute '_calculate_cumulative_points'
2025-08-22 11:38:31.131 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 11:38:31.253 | ERROR    | app.main:unhandled_exception_handler:137 - Unhandled error on GET http://127.0.0.1:8000/api/v1/players/stats?sort=cumulative_points&page=1&page_size=20: is_active
  + Exception Group Traceback (most recent call last):
  |
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 183, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x00000276639E8BF0>
  |                │     └ <function create_task_group at 0x000002765FDFB2E0>
  |                └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002765FEAE8E0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <app.main.RequestLoggingMiddleware object at 0x000002766305FA10>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002766305FAA0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0x0000027660D0F4C0>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError('is_active')])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x0000027662FD8C70>
    |     └ <contextlib._GeneratorContextManager object at 0x00000276639EBF20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002766392F1A0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x00000276639E8890>
    |                      │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x000002766305FA10>>
    |                      └ <app.main.RequestLoggingMiddleware object at 0x000002766305FA10>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    |     response: Response = await call_next(request)
    |                                │         └ <starlette.middleware.base._CachedRequest object at 0x00000276639E8890>
    |                                └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002766392F1A0>
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |           └ AttributeError('is_active')
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000276639E79C0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002766305F9E0>
    |           └ <app.main.RequestLoggingMiddleware object at 0x000002766305FA10>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |           │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000276639E79C0>
    |           │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |           │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x00000276639A1B50>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000276639E79C0>
    |                            │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |           │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x0000027660EE8860>
    |           │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x00000276639A1B50>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002766305F9B0>
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x00000276639A1B50>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000276639A1B50>>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002766305F8F0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x000002766305F9B0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000276639A1B50>>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x000002766390F770>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x000002766300BAA0>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002766305F8F0>
    |           └ <function wrap_app_handling_exceptions at 0x0000027660E2A160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A562A0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x000002766300BAA0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A562A0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002766300BAA0>>
    |           └ <fastapi.routing.APIRouter object at 0x000002766300BAA0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A562A0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x0000027660E2B740>
    |           └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A562A0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x000002766300F560>
    |           └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A562A0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x0000027663946EA0>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000027663A56340>
    |           └ <function wrap_app_handling_exceptions at 0x0000027660E2A160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A56480>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000027663A56340>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0x0000027663946EA0>
    |                      └ <function get_request_handler.<locals>.app at 0x000002766300F6A0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x0000027660E29B20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |                  │                 │         │       └ {'session': <sqlmodel.orm.session.Session object at 0x00000276639EFA70>, 'gw_id': None, 'team_id': None, 'position_id': None,...
    |                  │                 │         └ <function players_stats at 0x000002766300CCC0>
    |                  │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='gw_id', mode='validation'), ModelField(field...
    |                  └ <function run_in_threadpool at 0x0000027660BD7E20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |                  │     │         │        └ functools.partial(<function players_stats at 0x000002766300CCC0>, session=<sqlmodel.orm.session.Session object at 0x000002766...
    |                  │     │         └ <function run_sync at 0x000002765FD6B920>
    |                  │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
    |                  └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |                  └ <function get_async_backend at 0x000002765FD68CC0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    |     return await future
    |                  └ <Future finished exception=AttributeError('is_active')>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |
    |   File "C:\Usman\Projects\fantasy-league\app\player\routes.py", line 39, in players_stats
    |     data, total = svc.players_stats(gw_id, team_id, position_id, sort, page, page_size)
    |                   │   │             │      │        │            │     │     └ 20
    |                   │   │             │      │        │            │     └ 1
    |                   │   │             │      │        │            └ 'cumulative_points'
    |                   │   │             │      │        └ None
    |                   │   │             │      └ None
    |                   │   │             └ None
    |                   │   └ <function PlayerService.players_stats at 0x000002766300CB80>
    |                   └ <app.player.service.PlayerService object at 0x0000027663071C40>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 262, in players_stats
    |     "selection_percentage": self._get_selection_percentage(p.player_id, ps.gw_id)
    |                             │    └ <function PlayerService._get_selection_percentage at 0x000002766300CAE0>
    |                             └ <app.player.service.PlayerService object at 0x0000027663071C40>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 188, in _get_selection_percentage
    |     .where(Manager.is_active == True)  # noqa: E712
    |            └ <class 'app.db_models.Manager'>
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    |     raise AttributeError(item)
    |                          └ 'is_active'
    |
    | AttributeError: is_active
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000002765D9774C0>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000002765D870FE0>
           └ <SpawnProcess name='SpawnProcess-5' parent=30980 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002765D870540>
    └ <SpawnProcess name='SpawnProcess-5' parent=30980 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002765D92F3B0>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=30980 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=30980 started>
    │    └ <function subprocess_started at 0x000002765FD3A160>
    └ <SpawnProcess name='SpawnProcess-5' parent=30980 started>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=464, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002765FEA9B80>>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=464, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000002765FD394E0>
           │       │   └ <uvicorn.server.Server object at 0x000002765FEA9B80>
           │       └ <function run at 0x000002765F5B5C60>
           └ <module 'asyncio' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\asyncio\\__...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000002765FE76EA0>
           │      └ <function Runner.run at 0x000002765F6271A0>
           └ <asyncio.runners.Runner object at 0x000002765FD4D160>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002765F624E00>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000002765FD4D160>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 678, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002765F624D60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 645, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002765F626B60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 1999, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002765F564EA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002765FDABFE0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027663...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000276600760C0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002765FDABFE0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027663...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027663...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002766305FAA0>
          └ <fastapi.applications.FastAPI object at 0x00000276600760C0>
> File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002765FEAE8E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.main.RequestLoggingMiddleware object at 0x000002766305FA10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002766305FAA0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x0000027660D0F4C0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError('is_active')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x0000027662FD8C70>
    └ <contextlib._GeneratorContextManager object at 0x00000276639EBF20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002766392F1A0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x00000276639E8890>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x000002766305FA10>>
                     └ <app.main.RequestLoggingMiddleware object at 0x000002766305FA10>

  File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    response: Response = await call_next(request)
                               │         └ <starlette.middleware.base._CachedRequest object at 0x00000276639E8890>
                               └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002766392F1A0>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
          └ AttributeError('is_active')
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000276639E79C0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002766305F9E0>
          └ <app.main.RequestLoggingMiddleware object at 0x000002766305FA10>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000276639E79C0>
          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.middleware.gzip.GZipResponder object at 0x00000276639A1B50>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000276639E79C0>
                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x0000027660EE8860>
          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x00000276639A1B50>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002766305F9B0>
          └ <starlette.middleware.gzip.GZipResponder object at 0x00000276639A1B50>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000276639A1B50>>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002766305F8F0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002766305F9B0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000276639A1B50>>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x000002766390F770>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002766300BAA0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002766305F8F0>
          └ <function wrap_app_handling_exceptions at 0x0000027660E2A160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A562A0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x000002766300BAA0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A562A0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002766300BAA0>>
          └ <fastapi.routing.APIRouter object at 0x000002766300BAA0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A562A0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000027660E2B740>
          └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A562A0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002766300F560>
          └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A562A0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x0000027663946EA0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000027663A56340>
          └ <function wrap_app_handling_exceptions at 0x0000027660E2A160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027663A56480>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000276639E4720>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000027663A56340>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x0000027663946EA0>
                     └ <function get_request_handler.<locals>.app at 0x000002766300F6A0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000027660E29B20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'session': <sqlmodel.orm.session.Session object at 0x00000276639EFA70>, 'gw_id': None, 'team_id': None, 'position_id': None,...
                 │                 │         └ <function players_stats at 0x000002766300CCC0>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='gw_id', mode='validation'), ModelField(field...
                 └ <function run_in_threadpool at 0x0000027660BD7E20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function players_stats at 0x000002766300CCC0>, session=<sqlmodel.orm.session.Session object at 0x000002766...
                 │     │         └ <function run_sync at 0x000002765FD6B920>
                 │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
                 └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x000002765FD68CC0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError('is_active')>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "C:\Usman\Projects\fantasy-league\app\player\routes.py", line 39, in players_stats
    data, total = svc.players_stats(gw_id, team_id, position_id, sort, page, page_size)
                  │   │             │      │        │            │     │     └ 20
                  │   │             │      │        │            │     └ 1
                  │   │             │      │        │            └ 'cumulative_points'
                  │   │             │      │        └ None
                  │   │             │      └ None
                  │   │             └ None
                  │   └ <function PlayerService.players_stats at 0x000002766300CB80>
                  └ <app.player.service.PlayerService object at 0x0000027663071C40>

  File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 262, in players_stats
    "selection_percentage": self._get_selection_percentage(p.player_id, ps.gw_id)
                            │    └ <function PlayerService._get_selection_percentage at 0x000002766300CAE0>
                            └ <app.player.service.PlayerService object at 0x0000027663071C40>

  File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 188, in _get_selection_percentage
    .where(Manager.is_active == True)  # noqa: E712
           └ <class 'app.db_models.Manager'>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    raise AttributeError(item)
                         └ 'is_active'

AttributeError: is_active
2025-08-22 11:39:12.390 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 11:39:12.525 | ERROR    | app.main:unhandled_exception_handler:137 - Unhandled error on GET http://127.0.0.1:8000/api/v1/players/stats?sort=cumulative_points&page=1&page_size=20: 'ScalarResult' object has no attribute 'count'
  + Exception Group Traceback (most recent call last):
  |
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 183, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x000001DF644D7170>
  |                │     └ <function create_task_group at 0x000001DF6089B2E0>
  |                └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DF643C16C0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <app.main.RequestLoggingMiddleware object at 0x000001DF63B4BD40>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DF63B4BE30>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0x000001DF617AF4C0>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError("'ScalarResult' object has no attribute 'count'")])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x000001DF63AC8D40>
    |     └ <contextlib._GeneratorContextManager object at 0x000001DF6448F7A0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001DF6440F1A0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001DF6442AAB0>
    |                      │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x000001DF63B4BD40>>
    |                      └ <app.main.RequestLoggingMiddleware object at 0x000001DF63B4BD40>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    |     response: Response = await call_next(request)
    |                                │         └ <starlette.middleware.base._CachedRequest object at 0x000001DF6442AAB0>
    |                                └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001DF6440F1A0>
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |           └ AttributeError("'ScalarResult' object has no attribute 'count'")
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001DF644CB9C0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000001DF63B4BDA0>
    |           └ <app.main.RequestLoggingMiddleware object at 0x000001DF63B4BD40>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |           │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001DF644CB9C0>
    |           │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |           │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x000001DF6447E8D0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001DF644CB9C0>
    |                            │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |           │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000001DF61988860>
    |           │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000001DF6447E8D0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DF63B4BCE0>
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x000001DF6447E8D0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DF6447E8D0>>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DF63B4BD10>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DF63B4BCE0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DF6447E8D0>>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x000001DF6447DD00>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x000001DF63AF7A70>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DF63B4BD10>
    |           └ <function wrap_app_handling_exceptions at 0x000001DF618CA160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF645362A0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x000001DF63AF7A70>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF645362A0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DF63AF7A70>>
    |           └ <fastapi.routing.APIRouter object at 0x000001DF63AF7A70>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF645362A0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x000001DF618CB740>
    |           └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF645362A0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x000001DF63AFF880>
    |           └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF645362A0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x000001DF64429D60>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DF64536340>
    |           └ <function wrap_app_handling_exceptions at 0x000001DF618CA160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF64536480>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x000001DF64536340>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0x000001DF64429D60>
    |                      └ <function get_request_handler.<locals>.app at 0x000001DF63AFF9C0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x000001DF618C9B20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |                  │                 │         │       └ {'session': <sqlmodel.orm.session.Session object at 0x000001DF6447F170>, 'gw_id': None, 'team_id': None, 'position_id': None,...
    |                  │                 │         └ <function players_stats at 0x000001DF63AFCC20>
    |                  │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='gw_id', mode='validation'), ModelField(field...
    |                  └ <function run_in_threadpool at 0x000001DF61677E20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |                  │     │         │        └ functools.partial(<function players_stats at 0x000001DF63AFCC20>, session=<sqlmodel.orm.session.Session object at 0x000001DF6...
    |                  │     │         └ <function run_sync at 0x000001DF6080B920>
    |                  │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
    |                  └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |                  └ <function get_async_backend at 0x000001DF60808CC0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    |     return await future
    |                  └ <Future finished exception=AttributeError("'ScalarResult' object has no attribute 'count'")>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |
    |   File "C:\Usman\Projects\fantasy-league\app\player\routes.py", line 39, in players_stats
    |     data, total = svc.players_stats(gw_id, team_id, position_id, sort, page, page_size)
    |                   │   │             │      │        │            │     │     └ 20
    |                   │   │             │      │        │            │     └ 1
    |                   │   │             │      │        │            └ 'cumulative_points'
    |                   │   │             │      │        └ None
    |                   │   │             │      └ None
    |                   │   │             └ None
    |                   │   └ <function PlayerService.players_stats at 0x000001DF63AFD080>
    |                   └ <app.player.service.PlayerService object at 0x000001DF643F37A0>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 261, in players_stats
    |     "selection_percentage": self._get_selection_percentage(p.player_id, ps.gw_id)
    |                             │    └ <function PlayerService._get_selection_percentage at 0x000001DF63AFCFE0>
    |                             └ <app.player.service.PlayerService object at 0x000001DF643F37A0>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 188, in _get_selection_percentage
    |     ).count()
    |
    | AttributeError: 'ScalarResult' object has no attribute 'count'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x000001DF5E4074C0>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x000001DF5E300FE0>
           └ <SpawnProcess name='SpawnProcess-6' parent=30980 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DF5E300540>
    └ <SpawnProcess name='SpawnProcess-6' parent=30980 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DF5E3BF3B0>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=30980 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=30980 started>
    │    └ <function subprocess_started at 0x000001DF607DA160>
    └ <SpawnProcess name='SpawnProcess-6' parent=30980 started>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=636, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DF60949B80>>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=636, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001DF607D94E0>
           │       │   └ <uvicorn.server.Server object at 0x000001DF60949B80>
           │       └ <function run at 0x000001DF5EA45C60>
           └ <module 'asyncio' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\asyncio\\__...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001DF60916EA0>
           │      └ <function Runner.run at 0x000001DF600771A0>
           └ <asyncio.runners.Runner object at 0x000001DF607ED160>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001DF60074E00>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001DF607ED160>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 678, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DF60074D60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 645, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DF60076B60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 1999, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DF5E9F4EA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DF63B01400>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DF64...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DF61837410>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DF63B01400>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DF64...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DF64...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DF63B4BE30>
          └ <fastapi.applications.FastAPI object at 0x000001DF61837410>
> File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DF643C16C0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.main.RequestLoggingMiddleware object at 0x000001DF63B4BD40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DF63B4BE30>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x000001DF617AF4C0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError("'ScalarResult' object has no attribute 'count'")])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x000001DF63AC8D40>
    └ <contextlib._GeneratorContextManager object at 0x000001DF6448F7A0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001DF6440F1A0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001DF6442AAB0>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x000001DF63B4BD40>>
                     └ <app.main.RequestLoggingMiddleware object at 0x000001DF63B4BD40>

  File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    response: Response = await call_next(request)
                               │         └ <starlette.middleware.base._CachedRequest object at 0x000001DF6442AAB0>
                               └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001DF6440F1A0>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
          └ AttributeError("'ScalarResult' object has no attribute 'count'")
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001DF644CB9C0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000001DF63B4BDA0>
          └ <app.main.RequestLoggingMiddleware object at 0x000001DF63B4BD40>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001DF644CB9C0>
          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.middleware.gzip.GZipResponder object at 0x000001DF6447E8D0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001DF644CB9C0>
                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000001DF61988860>
          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000001DF6447E8D0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DF63B4BCE0>
          └ <starlette.middleware.gzip.GZipResponder object at 0x000001DF6447E8D0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DF6447E8D0>>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DF63B4BD10>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DF63B4BCE0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DF6447E8D0>>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DF6447DD00>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DF63AF7A70>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DF63B4BD10>
          └ <function wrap_app_handling_exceptions at 0x000001DF618CA160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF645362A0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x000001DF63AF7A70>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF645362A0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DF63AF7A70>>
          └ <fastapi.routing.APIRouter object at 0x000001DF63AF7A70>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF645362A0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000001DF618CB740>
          └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF645362A0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000001DF63AFF880>
          └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF645362A0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x000001DF64429D60>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DF64536340>
          └ <function wrap_app_handling_exceptions at 0x000001DF618CA160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DF64536480>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001DF644C8720>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DF64536340>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x000001DF64429D60>
                     └ <function get_request_handler.<locals>.app at 0x000001DF63AFF9C0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DF618C9B20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'session': <sqlmodel.orm.session.Session object at 0x000001DF6447F170>, 'gw_id': None, 'team_id': None, 'position_id': None,...
                 │                 │         └ <function players_stats at 0x000001DF63AFCC20>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='gw_id', mode='validation'), ModelField(field...
                 └ <function run_in_threadpool at 0x000001DF61677E20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function players_stats at 0x000001DF63AFCC20>, session=<sqlmodel.orm.session.Session object at 0x000001DF6...
                 │     │         └ <function run_sync at 0x000001DF6080B920>
                 │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
                 └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x000001DF60808CC0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("'ScalarResult' object has no attribute 'count'")>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "C:\Usman\Projects\fantasy-league\app\player\routes.py", line 39, in players_stats
    data, total = svc.players_stats(gw_id, team_id, position_id, sort, page, page_size)
                  │   │             │      │        │            │     │     └ 20
                  │   │             │      │        │            │     └ 1
                  │   │             │      │        │            └ 'cumulative_points'
                  │   │             │      │        └ None
                  │   │             │      └ None
                  │   │             └ None
                  │   └ <function PlayerService.players_stats at 0x000001DF63AFD080>
                  └ <app.player.service.PlayerService object at 0x000001DF643F37A0>

  File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 261, in players_stats
    "selection_percentage": self._get_selection_percentage(p.player_id, ps.gw_id)
                            │    └ <function PlayerService._get_selection_percentage at 0x000001DF63AFCFE0>
                            └ <app.player.service.PlayerService object at 0x000001DF643F37A0>

  File "C:\Usman\Projects\fantasy-league\app\player\service.py", line 188, in _get_selection_percentage
    ).count()

AttributeError: 'ScalarResult' object has no attribute 'count'
2025-08-22 11:39:58.847 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 11:39:59.187 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 11:40:25.365 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 11:40:25.392 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 11:40:40.964 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 11:40:40.972 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 11:40:48.917 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 11:40:48.928 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 11:42:48.977 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 11:42:48.991 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 11:43:11.844 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 11:43:11.854 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:46:41.605 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:46:41.609 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:46:41.879 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:46:41.915 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:47:20.736 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:47:21.019 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:48:30.511 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:48:30.533 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:48:38.346 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:48:38.360 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:48:45.426 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:48:45.615 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:49:10.299 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:49:10.410 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:49:16.525 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:49:17.066 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:50:13.233 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:50:13.289 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:50:21.537 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:50:21.579 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:50:42.966 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:50:42.986 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:50:45.216 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:50:45.230 | INFO     | app.main:dispatch:155 - Request completed
2025-08-22 14:50:58.415 | INFO     | app.main:dispatch:153 - Request started
2025-08-22 14:50:58.629 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:48:02.000 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:48:02.004 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:48:02.234 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:48:02.258 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:48:10.488 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:48:10.551 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:50:04.928 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:50:04.951 | WARNING  | app.main:validation_exception_handler:105 - Validation error on POST http://127.0.0.1:8000/api/v1/auth/sign-up: [{'type': 'string_type', 'loc': ('body', 'fav_player'), 'msg': 'Input should be a valid string', 'input': 0}]
2025-08-23 12:50:04.952 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:50:24.096 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:50:24.112 | WARNING  | app.main:validation_exception_handler:105 - Validation error on POST http://127.0.0.1:8000/api/v1/auth/sign-up: [{'type': 'string_type', 'loc': ('body', 'fav_player'), 'msg': 'Input should be a valid string', 'input': 1}]
2025-08-23 12:50:24.112 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:51:14.404 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:51:14.501 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:52:11.572 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:52:11.694 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:53:06.002 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:53:06.118 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:53:15.317 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:53:15.339 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:53:54.336 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:53:54.450 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:53:56.874 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:53:56.932 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:54:16.729 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:54:16.778 | ERROR    | app.main:unhandled_exception_handler:137 - Unhandled error on GET http://127.0.0.1:8000/api/v1/players?active_only=true&page=1&page_size=20: Object of type UUID is not JSON serializable
  + Exception Group Traceback (most recent call last):
  |
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 183, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x000001E5C8498920>
  |                │     └ <function create_task_group at 0x000001E5C49BB2E0>
  |                └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E5C8473BA0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <app.main.RequestLoggingMiddleware object at 0x000001E5C7B94050>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E5C7B94140>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0x000001E5C58CF4C0>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError('Object of type UUID is not JSON serializable')])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x000001E5C7AFCE10>
    |     └ <contextlib._GeneratorContextManager object at 0x000001E5C8499490>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001E5C85AB060>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001E5C8499C70>
    |                      │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x000001E5C7B94050>>
    |                      └ <app.main.RequestLoggingMiddleware object at 0x000001E5C7B94050>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    |     response: Response = await call_next(request)
    |                                │         └ <starlette.middleware.base._CachedRequest object at 0x000001E5C8499C70>
    |                                └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001E5C85AB060>
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |           └ TypeError('Object of type UUID is not JSON serializable')
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001E5C85AAB60>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000001E5C7B940B0>
    |           └ <app.main.RequestLoggingMiddleware object at 0x000001E5C7B94050>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |           │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001E5C85AAB60>
    |           │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |           │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x000001E5C852FD70>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001E5C85AAB60>
    |                            │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |           │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000001E5C5AA8860>
    |           │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000001E5C852FD70>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E5C7B83F80>
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x000001E5C852FD70>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001E5C852FD70>>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E5C7B83FE0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E5C7B83F80>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001E5C852FD70>>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x000001E5C852EF60>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x000001E5C7B442F0>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E5C7B83FE0>
    |           └ <function wrap_app_handling_exceptions at 0x000001E5C59EA160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C85AB240>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x000001E5C7B442F0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C85AB240>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E5C7B442F0>>
    |           └ <fastapi.routing.APIRouter object at 0x000001E5C7B442F0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C85AB240>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x000001E5C59EB740>
    |           └ APIRoute(path='/api/v1/players', name='list_players', methods=['GET'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C85AB240>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x000001E5C7B1F9C0>
    |           └ APIRoute(path='/api/v1/players', name='list_players', methods=['GET'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C85AB240>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x000001E5C8582DB0>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E5C86AD800>
    |           └ <function wrap_app_handling_exceptions at 0x000001E5C59EA160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C86AC0E0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x000001E5C86AD800>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0x000001E5C8582DB0>
    |                      └ <function get_request_handler.<locals>.app at 0x000001E5C7B1FBA0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x000001E5C59E9B20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |                  │                 │         │       └ {'session': <sqlmodel.orm.session.Session object at 0x000001E5C8580D40>, 'q': None, 'team_id': None, 'position_id': None, 'ac...
    |                  │                 │         └ <function list_players at 0x000001E5C7B1CA40>
    |                  │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='q', mode='validation'), ModelField(field_inf...
    |                  └ <function run_in_threadpool at 0x000001E5C5797E20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |                  │     │         │        └ functools.partial(<function list_players at 0x000001E5C7B1CA40>, session=<sqlmodel.orm.session.Session object at 0x000001E5C8...
    |                  │     │         └ <function run_sync at 0x000001E5C492F920>
    |                  │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
    |                  └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |                  └ <function get_async_backend at 0x000001E5C492CCC0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    |     return await future
    |                  └ <Future finished exception=TypeError('Object of type UUID is not JSON serializable')>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |
    |   File "C:\Usman\Projects\fantasy-league\app\player\routes.py", line 25, in list_players
    |     return ResponseSchema.pagination_response(data, total=total, page=page, page_size=page_size)
    |            │              │                   │           │           │               └ 20
    |            │              │                   │           │           └ 1
    |            │              │                   │           └ 42
    |            │              │                   └ [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fullname': 'James Santos', 'position_name': 'Goalkeeper'...
    |            │              └ <staticmethod(<function ResponseSchema.pagination_response at 0x000001E5C7A47D80>)>
    |            └ <class 'app.utils.responses.ResponseSchema'>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\utils\responses.py", line 117, in pagination_response
    |     return JSONResponse(
    |            └ <class 'starlette.responses.JSONResponse'>
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 190, in __init__
    |     super().__init__(content, status_code, headers, media_type, background)
    |                      │        │            │        │           └ None
    |                      │        │            │        └ None
    |                      │        │            └ None
    |                      │        └ 200
    |                      └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fulln...
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 47, in __init__
    |     self.body = self.render(content)
    |     │           │    │      └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fulln...
    |     │           │    └ <function JSONResponse.render at 0x000001E5C59CD260>
    |     │           └ <starlette.responses.JSONResponse object at 0x000001E5C859B530>
    |     └ <starlette.responses.JSONResponse object at 0x000001E5C859B530>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 193, in render
    |     return json.dumps(
    |            │    └ <function dumps at 0x000001E5C467AF20>
    |            └ <module 'json' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\json\\__init__...
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\__init__.py", line 238, in dumps
    |     **kw).encode(obj)
    |       │          └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fulln...
    |       └ {}
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 200, in encode
    |     chunks = self.iterencode(o, _one_shot=True)
    |              │    │          └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fulln...
    |              │    └ <function JSONEncoder.iterencode at 0x000001E5C467B4C0>
    |              └ <json.encoder.JSONEncoder object at 0x000001E5C852E2A0>
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 258, in iterencode
    |     return _iterencode(o, 0)
    |            │           └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fulln...
    |            └ <_json.Encoder object at 0x000001E5C86B8E20>
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 180, in default
    |     raise TypeError(f'Object of type {o.__class__.__name__} '
    |                                       │ │         └ <member '__name__' of 'getset_descriptor' objects>
    |                                       │ └ <attribute '__class__' of 'object' objects>
    |                                       └ UUID('a6887db9-4e59-4a67-9867-5f01230a5211')
    |
    | TypeError: Object of type UUID is not JSON serializable
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E5C25174C0>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E5C2410FE0>
           └ <SpawnProcess name='SpawnProcess-8' parent=27528 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E5C2410540>
    └ <SpawnProcess name='SpawnProcess-8' parent=27528 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E5C24CF410>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=27528 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=27528 started>
    │    └ <function subprocess_started at 0x000001E5C48FA160>
    └ <SpawnProcess name='SpawnProcess-8' parent=27528 started>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=804, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E5C4A69AF0>>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=804, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001E5C48F94E0>
           │       │   └ <uvicorn.server.Server object at 0x000001E5C4A69AF0>
           │       └ <function run at 0x000001E5C4115C60>
           └ <module 'asyncio' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\asyncio\\__...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001E5C4A36EA0>
           │      └ <function Runner.run at 0x000001E5C41971A0>
           └ <asyncio.runners.Runner object at 0x000001E5C24CE090>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001E5C4194E00>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001E5C24CE090>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 678, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E5C4194D60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 645, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E5C4196B60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 1999, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E5C40C4EA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E5C4969B80>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E5C8...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E5C4C32150>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E5C4969B80>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E5C8...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E5C8...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E5C7B94140>
          └ <fastapi.applications.FastAPI object at 0x000001E5C4C32150>
> File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E5C8473BA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.main.RequestLoggingMiddleware object at 0x000001E5C7B94050>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E5C7B94140>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x000001E5C58CF4C0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError('Object of type UUID is not JSON serializable')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x000001E5C7AFCE10>
    └ <contextlib._GeneratorContextManager object at 0x000001E5C8499490>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001E5C85AB060>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001E5C8499C70>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x000001E5C7B94050>>
                     └ <app.main.RequestLoggingMiddleware object at 0x000001E5C7B94050>

  File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    response: Response = await call_next(request)
                               │         └ <starlette.middleware.base._CachedRequest object at 0x000001E5C8499C70>
                               └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001E5C85AB060>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
          └ TypeError('Object of type UUID is not JSON serializable')
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001E5C85AAB60>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000001E5C7B940B0>
          └ <app.main.RequestLoggingMiddleware object at 0x000001E5C7B94050>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001E5C85AAB60>
          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.middleware.gzip.GZipResponder object at 0x000001E5C852FD70>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001E5C85AAB60>
                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000001E5C5AA8860>
          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000001E5C852FD70>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E5C7B83F80>
          └ <starlette.middleware.gzip.GZipResponder object at 0x000001E5C852FD70>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001E5C852FD70>>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E5C7B83FE0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E5C7B83F80>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001E5C852FD70>>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E5C852EF60>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E5C7B442F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E5C7B83FE0>
          └ <function wrap_app_handling_exceptions at 0x000001E5C59EA160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C85AB240>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x000001E5C7B442F0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C85AB240>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E5C7B442F0>>
          └ <fastapi.routing.APIRouter object at 0x000001E5C7B442F0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C85AB240>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000001E5C59EB740>
          └ APIRoute(path='/api/v1/players', name='list_players', methods=['GET'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C85AB240>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000001E5C7B1F9C0>
          └ APIRoute(path='/api/v1/players', name='list_players', methods=['GET'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C85AB240>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x000001E5C8582DB0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E5C86AD800>
          └ <function wrap_app_handling_exceptions at 0x000001E5C59EA160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E5C86AC0E0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001E5C85AA980>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E5C86AD800>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x000001E5C8582DB0>
                     └ <function get_request_handler.<locals>.app at 0x000001E5C7B1FBA0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E5C59E9B20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'session': <sqlmodel.orm.session.Session object at 0x000001E5C8580D40>, 'q': None, 'team_id': None, 'position_id': None, 'ac...
                 │                 │         └ <function list_players at 0x000001E5C7B1CA40>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='q', mode='validation'), ModelField(field_inf...
                 └ <function run_in_threadpool at 0x000001E5C5797E20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_players at 0x000001E5C7B1CA40>, session=<sqlmodel.orm.session.Session object at 0x000001E5C8...
                 │     │         └ <function run_sync at 0x000001E5C492F920>
                 │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
                 └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x000001E5C492CCC0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('Object of type UUID is not JSON serializable')>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "C:\Usman\Projects\fantasy-league\app\player\routes.py", line 25, in list_players
    return ResponseSchema.pagination_response(data, total=total, page=page, page_size=page_size)
           │              │                   │           │           │               └ 20
           │              │                   │           │           └ 1
           │              │                   │           └ 42
           │              │                   └ [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fullname': 'James Santos', 'position_name': 'Goalkeeper'...
           │              └ <staticmethod(<function ResponseSchema.pagination_response at 0x000001E5C7A47D80>)>
           └ <class 'app.utils.responses.ResponseSchema'>

  File "C:\Usman\Projects\fantasy-league\app\utils\responses.py", line 117, in pagination_response
    return JSONResponse(
           └ <class 'starlette.responses.JSONResponse'>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fulln...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 47, in __init__
    self.body = self.render(content)
    │           │    │      └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fulln...
    │           │    └ <function JSONResponse.render at 0x000001E5C59CD260>
    │           └ <starlette.responses.JSONResponse object at 0x000001E5C859B530>
    └ <starlette.responses.JSONResponse object at 0x000001E5C859B530>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 193, in render
    return json.dumps(
           │    └ <function dumps at 0x000001E5C467AF20>
           └ <module 'json' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\json\\__init__...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
      │          └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fulln...
      └ {}
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fulln...
             │    └ <function JSONEncoder.iterencode at 0x000001E5C467B4C0>
             └ <json.encoder.JSONEncoder object at 0x000001E5C852E2A0>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           │           └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('a6887db9-4e59-4a67-9867-5f01230a5211'), 'player_fulln...
           └ <_json.Encoder object at 0x000001E5C86B8E20>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>
                                      │ └ <attribute '__class__' of 'object' objects>
                                      └ UUID('a6887db9-4e59-4a67-9867-5f01230a5211')

TypeError: Object of type UUID is not JSON serializable
2025-08-23 12:57:10.858 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:57:10.944 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 12:57:51.595 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 12:57:51.789 | ERROR    | app.main:unhandled_exception_handler:137 - Unhandled error on GET http://127.0.0.1:8000/api/v1/players/stats?sort=cumulative_points&page=1&page_size=20: Object of type UUID is not JSON serializable
  + Exception Group Traceback (most recent call last):
  |
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 183, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x000002CA87AEDF40>
  |                │     └ <function create_task_group at 0x000002CA83FBB2E0>
  |                └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002CA87B27880>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002C...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <app.main.RequestLoggingMiddleware object at 0x000002CA87203E30>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002CA87203EC0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0x000002CA84ECF4C0>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError('Object of type UUID is not JSON serializable')])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x000002CA8717CFB0>
    |     └ <contextlib._GeneratorContextManager object at 0x000002CA87AED880>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002CA87C07100>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000002CA87AEDB50>
    |                      │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x000002CA87203E30>>
    |                      └ <app.main.RequestLoggingMiddleware object at 0x000002CA87203E30>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    |     response: Response = await call_next(request)
    |                                │         └ <starlette.middleware.base._CachedRequest object at 0x000002CA87AEDB50>
    |                                └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002CA87C07100>
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |           └ TypeError('Object of type UUID is not JSON serializable')
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002CA87C06AC0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002CA87203DD0>
    |           └ <app.main.RequestLoggingMiddleware object at 0x000002CA87203E30>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |           │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002CA87C06AC0>
    |           │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |           │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x000002CA87AEF4A0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002CA87C06AC0>
    |                            │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |           │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002CA850A8860>
    |           │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002CA87AEF4A0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002CA87203D70>
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x000002CA87AEF4A0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002CA87AEF4A0>>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002CA87203D10>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x000002CA87203D70>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002CA87AEF4A0>>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x000002CA87AECA10>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x000002CA871AFC20>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002CA87203D10>
    |           └ <function wrap_app_handling_exceptions at 0x000002CA84FEA160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06C00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x000002CA871AFC20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06C00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002CA871AFC20>>
    |           └ <fastapi.routing.APIRouter object at 0x000002CA871AFC20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06C00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x000002CA84FEB740>
    |           └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06C00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x000002CA871E0040>
    |           └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06C00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x000002CA87B8E030>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002CA87C06CA0>
    |           └ <function wrap_app_handling_exceptions at 0x000002CA84FEA160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06DE0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x000002CA87C06CA0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0x000002CA87B8E030>
    |                      └ <function get_request_handler.<locals>.app at 0x000002CA871E0180>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x000002CA84FE9B20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |                  │                 │         │       └ {'session': <sqlmodel.orm.session.Session object at 0x000002CA87B46540>, 'gw_id': None, 'team_id': None, 'position_id': None,...
    |                  │                 │         └ <function players_stats at 0x000002CA8719D4E0>
    |                  │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='gw_id', mode='validation'), ModelField(field...
    |                  └ <function run_in_threadpool at 0x000002CA84D97E20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |                  │     │         │        └ functools.partial(<function players_stats at 0x000002CA8719D4E0>, session=<sqlmodel.orm.session.Session object at 0x000002CA8...
    |                  │     │         └ <function run_sync at 0x000002CA83F2F920>
    |                  │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
    |                  └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |                  └ <function get_async_backend at 0x000002CA83F2CCC0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    |     return await future
    |                  └ <Future finished exception=TypeError('Object of type UUID is not JSON serializable')>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |
    |   File "C:\Usman\Projects\fantasy-league\app\player\routes.py", line 40, in players_stats
    |     return ResponseSchema.pagination_response(data, total=total, page=page, page_size=page_size)
    |            │              │                   │           │           │               └ 20
    |            │              │                   │           │           └ 1
    |            │              │                   │           └ 126
    |            │              │                   └ [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': 'Franklin Smith', 'team_name': 'Olympic Club Safi', ...
    |            │              └ <staticmethod(<function ResponseSchema.pagination_response at 0x000002CA870C7CE0>)>
    |            └ <class 'app.utils.responses.ResponseSchema'>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\utils\responses.py", line 117, in pagination_response
    |     return JSONResponse(
    |            └ <class 'starlette.responses.JSONResponse'>
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 190, in __init__
    |     super().__init__(content, status_code, headers, media_type, background)
    |                      │        │            │        │           └ None
    |                      │        │            │        └ None
    |                      │        │            └ None
    |                      │        └ 200
    |                      └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': '...
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 47, in __init__
    |     self.body = self.render(content)
    |     │           │    │      └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': '...
    |     │           │    └ <function JSONResponse.render at 0x000002CA84FCD260>
    |     │           └ <starlette.responses.JSONResponse object at 0x000002CA87B44AA0>
    |     └ <starlette.responses.JSONResponse object at 0x000002CA87B44AA0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 193, in render
    |     return json.dumps(
    |            │    └ <function dumps at 0x000002CA83C7AF20>
    |            └ <module 'json' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\json\\__init__...
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\__init__.py", line 238, in dumps
    |     **kw).encode(obj)
    |       │          └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': '...
    |       └ {}
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 200, in encode
    |     chunks = self.iterencode(o, _one_shot=True)
    |              │    │          └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': '...
    |              │    └ <function JSONEncoder.iterencode at 0x000002CA83C7B4C0>
    |              └ <json.encoder.JSONEncoder object at 0x000002CA87B46000>
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 258, in iterencode
    |     return _iterencode(o, 0)
    |            │           └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': '...
    |            └ <_json.Encoder object at 0x000002CA87C14700>
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 180, in default
    |     raise TypeError(f'Object of type {o.__class__.__name__} '
    |                                       │ │         └ <member '__name__' of 'getset_descriptor' objects>
    |                                       │ └ <attribute '__class__' of 'object' objects>
    |                                       └ UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb')
    |
    | TypeError: Object of type UUID is not JSON serializable
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 356
               │     └ 3
               └ <function _main at 0x000002CA81B274C0>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 356
           │    └ <function BaseProcess._bootstrap at 0x000002CA81A20FE0>
           └ <SpawnProcess name='SpawnProcess-11' parent=27528 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002CA81A20540>
    └ <SpawnProcess name='SpawnProcess-11' parent=27528 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002CA81ADF410>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-11' parent=27528 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-11' parent=27528 started>
    │    └ <function subprocess_started at 0x000002CA83EFA160>
    └ <SpawnProcess name='SpawnProcess-11' parent=27528 started>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=560, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002CA84069AF0>>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=560, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000002CA83EF94E0>
           │       │   └ <uvicorn.server.Server object at 0x000002CA84069AF0>
           │       └ <function run at 0x000002CA83715C60>
           └ <module 'asyncio' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\asyncio\\__...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000002CA84036EA0>
           │      └ <function Runner.run at 0x000002CA837971A0>
           └ <asyncio.runners.Runner object at 0x000002CA81ADE090>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002CA83794E00>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000002CA81ADE090>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 678, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002CA83794D60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 645, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002CA83796B60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 1999, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002CA836C4EA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002CA83F69B80>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002CA87...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000002CA84232180>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002CA83F69B80>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002CA87...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002CA87...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002CA87203EC0>
          └ <fastapi.applications.FastAPI object at 0x000002CA84232180>
> File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002CA87B27880>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.main.RequestLoggingMiddleware object at 0x000002CA87203E30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002CA87203EC0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x000002CA84ECF4C0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError('Object of type UUID is not JSON serializable')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x000002CA8717CFB0>
    └ <contextlib._GeneratorContextManager object at 0x000002CA87AED880>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002CA87C07100>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000002CA87AEDB50>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x000002CA87203E30>>
                     └ <app.main.RequestLoggingMiddleware object at 0x000002CA87203E30>

  File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    response: Response = await call_next(request)
                               │         └ <starlette.middleware.base._CachedRequest object at 0x000002CA87AEDB50>
                               └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002CA87C07100>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
          └ TypeError('Object of type UUID is not JSON serializable')
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002CA87C06AC0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002CA87203DD0>
          └ <app.main.RequestLoggingMiddleware object at 0x000002CA87203E30>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002CA87C06AC0>
          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.middleware.gzip.GZipResponder object at 0x000002CA87AEF4A0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002CA87C06AC0>
                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002CA850A8860>
          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002CA87AEF4A0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002CA87203D70>
          └ <starlette.middleware.gzip.GZipResponder object at 0x000002CA87AEF4A0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002CA87AEF4A0>>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002CA87203D10>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002CA87203D70>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002CA87AEF4A0>>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x000002CA87AECA10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002CA871AFC20>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002CA87203D10>
          └ <function wrap_app_handling_exceptions at 0x000002CA84FEA160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06C00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x000002CA871AFC20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06C00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002CA871AFC20>>
          └ <fastapi.routing.APIRouter object at 0x000002CA871AFC20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06C00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002CA84FEB740>
          └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06C00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002CA871E0040>
          └ APIRoute(path='/api/v1/players/stats', name='players_stats', methods=['GET'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06C00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x000002CA87B8E030>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002CA87C06CA0>
          └ <function wrap_app_handling_exceptions at 0x000002CA84FEA160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002CA87C06DE0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002CA87C072E0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002CA87C06CA0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x000002CA87B8E030>
                     └ <function get_request_handler.<locals>.app at 0x000002CA871E0180>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002CA84FE9B20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'session': <sqlmodel.orm.session.Session object at 0x000002CA87B46540>, 'gw_id': None, 'team_id': None, 'position_id': None,...
                 │                 │         └ <function players_stats at 0x000002CA8719D4E0>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='gw_id', mode='validation'), ModelField(field...
                 └ <function run_in_threadpool at 0x000002CA84D97E20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function players_stats at 0x000002CA8719D4E0>, session=<sqlmodel.orm.session.Session object at 0x000002CA8...
                 │     │         └ <function run_sync at 0x000002CA83F2F920>
                 │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
                 └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x000002CA83F2CCC0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('Object of type UUID is not JSON serializable')>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "C:\Usman\Projects\fantasy-league\app\player\routes.py", line 40, in players_stats
    return ResponseSchema.pagination_response(data, total=total, page=page, page_size=page_size)
           │              │                   │           │           │               └ 20
           │              │                   │           │           └ 1
           │              │                   │           └ 126
           │              │                   └ [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': 'Franklin Smith', 'team_name': 'Olympic Club Safi', ...
           │              └ <staticmethod(<function ResponseSchema.pagination_response at 0x000002CA870C7CE0>)>
           └ <class 'app.utils.responses.ResponseSchema'>

  File "C:\Usman\Projects\fantasy-league\app\utils\responses.py", line 117, in pagination_response
    return JSONResponse(
           └ <class 'starlette.responses.JSONResponse'>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': '...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 47, in __init__
    self.body = self.render(content)
    │           │    │      └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': '...
    │           │    └ <function JSONResponse.render at 0x000002CA84FCD260>
    │           └ <starlette.responses.JSONResponse object at 0x000002CA87B44AA0>
    └ <starlette.responses.JSONResponse object at 0x000002CA87B44AA0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 193, in render
    return json.dumps(
           │    └ <function dumps at 0x000002CA83C7AF20>
           └ <module 'json' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\json\\__init__...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
      │          └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': '...
      └ {}
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': '...
             │    └ <function JSONEncoder.iterencode at 0x000002CA83C7B4C0>
             └ <json.encoder.JSONEncoder object at 0x000002CA87B46000>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           │           └ {'status_code': 200, 'message': 'Success', 'data': [{'player_id': UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb'), 'fullname': '...
           └ <_json.Encoder object at 0x000002CA87C14700>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>
                                      │ └ <attribute '__class__' of 'object' objects>
                                      └ UUID('89ed4ec3-4a17-4ec0-9fca-dff4d14f1bcb')

TypeError: Object of type UUID is not JSON serializable
2025-08-23 13:10:07.161 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:10:07.538 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:27:38.017 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:27:38.020 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:27:38.427 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:27:38.497 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:27:42.865 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:27:42.928 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:29:32.820 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:29:33.200 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:29:38.180 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:29:38.419 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:29:59.728 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:29:59.778 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:33:08.152 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:33:08.193 | WARNING  | app.main:http_exception_handler:122 - HTTPException on GET http://127.0.0.1:8000/api/v1/managers/7d2b039d-f593-460e-aa64-34be3f8abe96/overview: Authentication error: 401: Manager not found
2025-08-23 13:33:08.196 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:33:16.331 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:33:16.535 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:33:19.139 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:33:19.270 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:33:24.322 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:33:24.324 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:33:24.833 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:33:24.900 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:33:51.978 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:33:52.027 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:34:43.011 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:34:43.057 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 13:35:04.925 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 13:35:04.977 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 15:09:34.291 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 15:09:34.296 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 15:09:34.488 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 15:09:34.518 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 15:09:38.908 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 15:09:39.153 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 15:09:50.307 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 15:09:50.425 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 15:10:48.341 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 15:10:48.394 | INFO     | app.main:dispatch:155 - Request completed
2025-08-23 15:16:51.248 | INFO     | app.main:dispatch:153 - Request started
2025-08-23 15:16:51.289 | INFO     | app.main:dispatch:155 - Request completed
2025-08-24 13:46:41.634 | INFO     | app.main:dispatch:153 - Request started
2025-08-24 13:46:41.635 | INFO     | app.main:dispatch:155 - Request completed
2025-08-24 13:46:41.900 | INFO     | app.main:dispatch:153 - Request started
2025-08-24 13:46:41.914 | INFO     | app.main:dispatch:155 - Request completed
2025-08-24 13:52:56.834 | INFO     | app.main:dispatch:153 - Request started
2025-08-24 13:52:56.922 | INFO     | app.main:dispatch:155 - Request completed
2025-08-24 13:56:12.674 | INFO     | app.main:dispatch:153 - Request started
2025-08-24 13:56:12.757 | INFO     | app.main:dispatch:155 - Request completed
2025-08-24 14:02:14.215 | INFO     | app.main:dispatch:153 - Request started
2025-08-24 14:02:14.229 | WARNING  | app.main:validation_exception_handler:105 - Validation error on POST http://127.0.0.1:8000/api/v1/auth/sign-up: [{'type': 'value_error', 'loc': ('body', 'birthdate'), 'msg': 'Value error, birthdate must be in MM/DD/YYYY format', 'input': '25-12-1990', 'ctx': {'error': ValueError('birthdate must be in MM/DD/YYYY format')}}]
2025-08-24 14:02:14.230 | ERROR    | app.main:unhandled_exception_handler:137 - Unhandled error on POST http://127.0.0.1:8000/api/v1/auth/sign-up: Object of type ValueError is not JSON serializable
  + Exception Group Traceback (most recent call last):
  |
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 183, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000027B500DB0E0>
  |                │     └ <function create_task_group at 0x0000027B4C6A25C0>
  |                └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027B500FFEC0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <app.main.RequestLoggingMiddleware object at 0x0000027B4F78C0B0>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027B4F717440>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0x0000027B4D55AD40>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError('Object of type ValueError is not JSON serializable')])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x0000027B4F769220>
    |     └ <contextlib._GeneratorContextManager object at 0x0000027B50187110>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000027B50175580>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000027B5016E300>
    |                      │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x0000027B4F78C0B0>>
    |                      └ <app.main.RequestLoggingMiddleware object at 0x0000027B4F78C0B0>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    |     response: Response = await call_next(request)
    |                                │         └ <starlette.middleware.base._CachedRequest object at 0x0000027B5016E300>
    |                                └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000027B50175580>
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |           └ TypeError('Object of type ValueError is not JSON serializable')
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000027B501A8C20>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x0000027B4F7E3F20>
    |           └ <app.main.RequestLoggingMiddleware object at 0x0000027B4F78C0B0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |           │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000027B501A8C20>
    |           │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |           │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x0000027B501848F0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000027B501A8C20>
    |                            │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |           │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x0000027B4D6F40E0>
    |           │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x0000027B501848F0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027B4F7E3EC0>
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x0000027B501848F0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |           │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '223', 'sec-ch-ua-platform': '"Windows"', 'u...
    |           │    │               │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000027B501848F0>>
    |           │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |           │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function CORSMiddleware.simple_response at 0x0000027B4D6D9B20>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027B4F7E3EC0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000027B4F7E3EC0...
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027B4F73BDD0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027B4F7E3EC0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000027B4F7E3EC0...
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x0000027B50187680>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000027B4F7B0230>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027B4F73BDD0>
    |           └ <function wrap_app_handling_exceptions at 0x0000027B4D6399E0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027B501F34C0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x0000027B4F7B0230>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027B501F34C0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000027B4F7B0230>>
    |           └ <fastapi.routing.APIRouter object at 0x0000027B4F7B0230>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027B501F34C0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x0000027B4D63AFC0>
    |           └ APIRoute(path='/api/v1/auth/sign-up', name='register', methods=['POST'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027B501F34C0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x0000027B4F79AA20>
    |           └ APIRoute(path='/api/v1/auth/sign-up', name='register', methods=['POST'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027B501F34C0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x0000027B500DB350>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000027B501F3560>
    |           └ <function wrap_app_handling_exceptions at 0x0000027B4D6399E0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 59, in wrapped_app
    |     response = await handler(conn, exc)
    |                      │       └ <starlette.requests.Request object at 0x0000027B500DB350>
    |                      └ <function validation_exception_handler at 0x0000027B4F7D6020>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\main.py", line 108, in validation_exception_handler
    |     return JSONResponse(
    |            └ <class 'starlette.responses.JSONResponse'>
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 190, in __init__
    |     super().__init__(content, status_code, headers, media_type, background)
    |                      │        │            │        │           └ None
    |                      │        │            │        └ None
    |                      │        │            └ None
    |                      │        └ 422
    |                      └ {'status_code': 422, 'message': 'Validation error', 'error': 'UnprocessableEntity', 'data': None, 'meta': {'detail': [{'type'...
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 47, in __init__
    |     self.body = self.render(content)
    |     │           │    │      └ {'status_code': 422, 'message': 'Validation error', 'error': 'UnprocessableEntity', 'data': None, 'meta': {'detail': [{'type'...
    |     │           │    └ <function JSONResponse.render at 0x0000027B4D628AE0>
    |     │           └ <starlette.responses.JSONResponse object at 0x0000027B500D8170>
    |     └ <starlette.responses.JSONResponse object at 0x0000027B500D8170>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 193, in render
    |     return json.dumps(
    |            │    └ <function dumps at 0x0000027B4BF56AC0>
    |            └ <module 'json' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\json\\__init__...
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\__init__.py", line 238, in dumps
    |     **kw).encode(obj)
    |       │          └ {'status_code': 422, 'message': 'Validation error', 'error': 'UnprocessableEntity', 'data': None, 'meta': {'detail': [{'type'...
    |       └ {}
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 200, in encode
    |     chunks = self.iterencode(o, _one_shot=True)
    |              │    │          └ {'status_code': 422, 'message': 'Validation error', 'error': 'UnprocessableEntity', 'data': None, 'meta': {'detail': [{'type'...
    |              │    └ <function JSONEncoder.iterencode at 0x0000027B4BF57060>
    |              └ <json.encoder.JSONEncoder object at 0x0000027B4F7FF4A0>
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 258, in iterencode
    |     return _iterencode(o, 0)
    |            │           └ {'status_code': 422, 'message': 'Validation error', 'error': 'UnprocessableEntity', 'data': None, 'meta': {'detail': [{'type'...
    |            └ <_json.Encoder object at 0x0000027B501D5540>
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 180, in default
    |     raise TypeError(f'Object of type {o.__class__.__name__} '
    |                                       │ │         └ <member '__name__' of 'getset_descriptor' objects>
    |                                       │ └ <attribute '__class__' of 'object' objects>
    |                                       └ ValueError('birthdate must be in MM/DD/YYYY format')
    |
    | TypeError: Object of type ValueError is not JSON serializable
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code

  File "C:\Usman\Projects\fantasy-league\.venv\Scripts\uvicorn.exe\__main__.py", line 10, in <module>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\click\core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0x0000027B4C52CE00>
           └ <Command main>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\click\core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0x0000027B4C3ACF50>
         │    └ <function Command.invoke at 0x0000027B4C52CAE0>
         └ <Command main>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\click\core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'port': 8000, 'app': 'app.main:app', 'host': '127.0.0.1', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'relo...
           │   │      │    │           └ <click.core.Context object at 0x0000027B4C3ACF50>
           │   │      │    └ <function main at 0x0000027B4C75E340>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0x0000027B4C52BCE0>
           └ <click.core.Context object at 0x0000027B4C3ACF50>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\click\core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'port': 8000, 'app': 'app.main:app', 'host': '127.0.0.1', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'relo...
           │         └ ()
           └ <function main at 0x0000027B4C75E340>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\main.py", line 413, in main
    run(
    └ <function run at 0x0000027B4C5AFB00>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0x0000027B4C5C2840>
    └ <uvicorn.server.Server object at 0x0000027B4BEAE450>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x0000027B4C5C28E0>
           │       │   └ <uvicorn.server.Server object at 0x0000027B4BEAE450>
           │       └ <function run at 0x0000027B4BDEF1A0>
           └ <module 'asyncio' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\asyncio\\__...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x0000027B4C72B840>
           │      └ <function Runner.run at 0x0000027B4BE8ECA0>
           └ <asyncio.runners.Runner object at 0x0000027B4C75ACC0>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000027B4BE8C900>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000027B4C75ACC0>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 678, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000027B4BF54AE0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 645, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027B4BE8E660>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 1999, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027B4BDE4A40>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027B4C4C2870>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027B50...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027B4F761E50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027B4C4C2870>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027B50...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027B50...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027B4F717440>
          └ <fastapi.applications.FastAPI object at 0x0000027B4F761E50>
> File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027B500FFEC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.main.RequestLoggingMiddleware object at 0x0000027B4F78C0B0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027B4F717440>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x0000027B4D55AD40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError('Object of type ValueError is not JSON serializable')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x0000027B4F769220>
    └ <contextlib._GeneratorContextManager object at 0x0000027B50187110>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000027B50175580>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000027B5016E300>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x0000027B4F78C0B0>>
                     └ <app.main.RequestLoggingMiddleware object at 0x0000027B4F78C0B0>

  File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    response: Response = await call_next(request)
                               │         └ <starlette.middleware.base._CachedRequest object at 0x0000027B5016E300>
                               └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000027B50175580>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
          └ TypeError('Object of type ValueError is not JSON serializable')
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000027B501A8C20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x0000027B4F7E3F20>
          └ <app.main.RequestLoggingMiddleware object at 0x0000027B4F78C0B0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000027B501A8C20>
          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.middleware.gzip.GZipResponder object at 0x0000027B501848F0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000027B501A8C20>
                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x0000027B4D6F40E0>
          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x0000027B501848F0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027B4F7E3EC0>
          └ <starlette.middleware.gzip.GZipResponder object at 0x0000027B501848F0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '223', 'sec-ch-ua-platform': '"Windows"', 'u...
          │    │               │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000027B501848F0>>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x0000027B4D6D9B20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027B4F7E3EC0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000027B4F7E3EC0...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027B4F73BDD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027B4F7E3EC0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000027B4F7E3EC0...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x0000027B50187680>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000027B4F7B0230>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027B4F73BDD0>
          └ <function wrap_app_handling_exceptions at 0x0000027B4D6399E0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027B501F34C0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x0000027B4F7B0230>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027B501F34C0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000027B4F7B0230>>
          └ <fastapi.routing.APIRouter object at 0x0000027B4F7B0230>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027B501F34C0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000027B4D63AFC0>
          └ APIRoute(path='/api/v1/auth/sign-up', name='register', methods=['POST'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027B501F34C0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000027B4F79AA20>
          └ APIRoute(path='/api/v1/auth/sign-up', name='register', methods=['POST'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027B501F34C0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000027B500FC220>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x0000027B500DB350>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000027B501F3560>
          └ <function wrap_app_handling_exceptions at 0x0000027B4D6399E0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
                     │       └ <starlette.requests.Request object at 0x0000027B500DB350>
                     └ <function validation_exception_handler at 0x0000027B4F7D6020>

  File "C:\Usman\Projects\fantasy-league\app\main.py", line 108, in validation_exception_handler
    return JSONResponse(
           └ <class 'starlette.responses.JSONResponse'>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 422
                     └ {'status_code': 422, 'message': 'Validation error', 'error': 'UnprocessableEntity', 'data': None, 'meta': {'detail': [{'type'...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 47, in __init__
    self.body = self.render(content)
    │           │    │      └ {'status_code': 422, 'message': 'Validation error', 'error': 'UnprocessableEntity', 'data': None, 'meta': {'detail': [{'type'...
    │           │    └ <function JSONResponse.render at 0x0000027B4D628AE0>
    │           └ <starlette.responses.JSONResponse object at 0x0000027B500D8170>
    └ <starlette.responses.JSONResponse object at 0x0000027B500D8170>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\responses.py", line 193, in render
    return json.dumps(
           │    └ <function dumps at 0x0000027B4BF56AC0>
           └ <module 'json' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\json\\__init__...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
      │          └ {'status_code': 422, 'message': 'Validation error', 'error': 'UnprocessableEntity', 'data': None, 'meta': {'detail': [{'type'...
      └ {}
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'status_code': 422, 'message': 'Validation error', 'error': 'UnprocessableEntity', 'data': None, 'meta': {'detail': [{'type'...
             │    └ <function JSONEncoder.iterencode at 0x0000027B4BF57060>
             └ <json.encoder.JSONEncoder object at 0x0000027B4F7FF4A0>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           │           └ {'status_code': 422, 'message': 'Validation error', 'error': 'UnprocessableEntity', 'data': None, 'meta': {'detail': [{'type'...
           └ <_json.Encoder object at 0x0000027B501D5540>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>
                                      │ └ <attribute '__class__' of 'object' objects>
                                      └ ValueError('birthdate must be in MM/DD/YYYY format')

TypeError: Object of type ValueError is not JSON serializable
2025-08-24 14:02:39.541 | INFO     | app.main:dispatch:153 - Request started
2025-08-24 14:02:39.541 | INFO     | app.main:dispatch:155 - Request completed
2025-08-24 14:02:39.689 | INFO     | app.main:dispatch:153 - Request started
2025-08-24 14:02:39.702 | INFO     | app.main:dispatch:155 - Request completed
2025-08-24 14:03:03.808 | INFO     | app.main:dispatch:153 - Request started
2025-08-24 14:03:03.871 | INFO     | app.main:dispatch:155 - Request completed
2025-08-24 14:04:07.448 | INFO     | app.main:dispatch:153 - Request started
2025-08-24 14:04:07.526 | INFO     | app.main:dispatch:155 - Request completed
2025-08-24 14:04:20.711 | INFO     | app.main:dispatch:153 - Request started
2025-08-24 14:04:20.773 | INFO     | app.main:dispatch:155 - Request completed
2025-08-26 19:09:11.624 | INFO     | app.main:dispatch:153 - Request started
2025-08-26 19:09:11.627 | INFO     | app.main:dispatch:155 - Request completed
2025-08-26 19:09:12.043 | INFO     | app.main:dispatch:153 - Request started
2025-08-26 19:09:12.112 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:32:21.725 | WARNING  | app.main:lifespan:43 - Seeding skipped or failed: This session is in 'committed' state; no further SQL can be emitted within this transaction.
2025-08-28 18:35:21.160 | WARNING  | app.main:lifespan:43 - Seeding skipped or failed: This session is in 'committed' state; no further SQL can be emitted within this transaction.
2025-08-28 18:35:39.170 | WARNING  | app.main:lifespan:43 - Seeding skipped or failed: This session is in 'committed' state; no further SQL can be emitted within this transaction.
2025-08-28 18:35:54.502 | WARNING  | app.main:lifespan:43 - Seeding skipped or failed: This session is in 'committed' state; no further SQL can be emitted within this transaction.
2025-08-28 18:36:05.882 | WARNING  | app.main:lifespan:43 - Seeding skipped or failed: This session is in 'committed' state; no further SQL can be emitted within this transaction.
2025-08-28 18:36:07.047 | WARNING  | app.main:lifespan:43 - Seeding skipped or failed: This session is in 'committed' state; no further SQL can be emitted within this transaction.
2025-08-28 18:36:15.892 | WARNING  | app.main:lifespan:43 - Seeding skipped or failed: This session is in 'committed' state; no further SQL can be emitted within this transaction.
2025-08-28 18:37:30.196 | WARNING  | app.main:lifespan:43 - Seeding skipped or failed: Session.is_modified() missing 1 required positional argument: 'instance'
2025-08-28 18:40:28.072 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:40:28.074 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:40:29.145 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:40:29.170 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:40:34.525 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:40:34.622 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:41:57.724 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:41:57.789 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:42:33.262 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:42:33.279 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:45:10.199 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:45:10.199 | WARNING  | app.main:http_exception_handler:122 - HTTPException on POST http://127.0.0.1:8000/api/v1/managers/0000198f-0e8a-2b57-b1dd-eaf26d16ada9/squad: Authentication error: 401: Manager not found
2025-08-28 18:45:10.199 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:45:18.061 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:45:18.165 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:45:26.815 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:45:26.886 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:45:48.796 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:45:48.798 | WARNING  | app.main:http_exception_handler:122 - HTTPException on POST http://127.0.0.1:8000/api/v1/managers/0000198f-0ecf-6487-ac13-77b9659cdbfb/squad: Could not validate credentials
2025-08-28 18:45:48.799 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:46:08.747 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:46:08.778 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:46:26.407 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:46:26.413 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:48:02.049 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:48:02.068 | ERROR    | app.main:unhandled_exception_handler:137 - Unhandled error on POST http://127.0.0.1:8000/api/v1/managers/0000198f-0ecf-6487-ac13-77b9659cdbfb/substitute?player_out_id=9&player_in_id=24: cannot unpack non-iterable int object
  + Exception Group Traceback (most recent call last):
  |
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 183, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x00000153CE44BCB0>
  |                │     └ <function create_task_group at 0x00000153CA72B2E0>
  |                └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000153CE31C360>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <app.main.RequestLoggingMiddleware object at 0x00000153CD937350>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000153CD937320>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0x00000153CB63F4C0>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError('cannot unpack non-iterable int object')])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x00000153CD89D2F0>
    |     └ <contextlib._GeneratorContextManager object at 0x00000153CE44BF80>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000153CE31C860>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x00000153CE44A120>
    |                      │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x00000153CD937350>>
    |                      └ <app.main.RequestLoggingMiddleware object at 0x00000153CD937350>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    |     response: Response = await call_next(request)
    |                                │         └ <starlette.middleware.base._CachedRequest object at 0x00000153CE44A120>
    |                                └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000153CE31C860>
    |
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |           └ TypeError('cannot unpack non-iterable int object')
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000153CE414C20>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x00000153CD8E01A0>
    |           └ <app.main.RequestLoggingMiddleware object at 0x00000153CD937350>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |           │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000153CE414C20>
    |           │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x00000153CE44BDD0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000153CE414C20>
    |                            │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |           │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x00000153CB81C860>
    |           │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x00000153CE44BDD0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000153CD937260>
    |           └ <starlette.middleware.gzip.GZipResponder object at 0x00000153CE44BDD0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |           │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"Windows"', 'aut...
    |           │    │               │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000153CE44BDD0>>
    |           │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function CORSMiddleware.simple_response at 0x00000153CB7FA2A0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x00000153CD937260>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000153CD937260...
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000153CD937290>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x00000153CD937260>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000153CD937260...
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x00000153CE448BC0>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x00000153CD8E1CA0>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000153CD937290>
    |           └ <function wrap_app_handling_exceptions at 0x00000153CB74A160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE414860>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x00000153CD8E1CA0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE414860>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000153CD8E1CA0>>
    |           └ <fastapi.routing.APIRouter object at 0x00000153CD8E1CA0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE414860>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x00000153CB74B740>
    |           └ APIRoute(path='/api/v1/managers/{manager_id}/substitute', name='substitute_player', methods=['POST'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE414860>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x00000153CD8EBBA0>
    |           └ APIRoute(path='/api/v1/managers/{manager_id}/substitute', name='substitute_player', methods=['POST'])
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE414860>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x00000153CE4205F0>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000153CE401260>
    |           └ <function wrap_app_handling_exceptions at 0x00000153CB74A160>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE402200>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x00000153CE401260>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0x00000153CE4205F0>
    |                      └ <function get_request_handler.<locals>.app at 0x00000153CD8EBA60>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x00000153CB749B20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |                  │                 │         │       └ {'user': AuthUser(id=UUID('0000198f-0ecf-6487-ac13-77b9659cdbfb'), role=<UserRole.MANAGER: 'manager'>), 'session': <sqlmodel....
    |                  │                 │         └ <function substitute_player at 0x00000153CD88E840>
    |                  │                 └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='manager_id', mode='validation')], query_params=[M...
    |                  └ <function run_in_threadpool at 0x00000153CB507E20>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |                  │     │         │        └ functools.partial(<function substitute_player at 0x00000153CD88E840>, user=AuthUser(id=UUID('0000198f-0ecf-6487-ac13-77b9659c...
    |                  │     │         └ <function run_sync at 0x00000153CA69B920>
    |                  │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
    |                  └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |                  └ <function get_async_backend at 0x00000153CA698CC0>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    |     return await future
    |                  └ <Future finished exception=TypeError('cannot unpack non-iterable int object')>
    |   File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    |     result = context.run(func, *args)
    |
    |   File "C:\Usman\Projects\fantasy-league\app\manager\routes.py", line 129, in substitute_player
    |     result = svc.substitute(mid, player_out_id, player_in_id)
    |              │   │          │    │              └ 24
    |              │   │          │    └ 9
    |              │   │          └ UUID('0000198f-0ecf-6487-ac13-77b9659cdbfb')
    |              │   └ <function ManagerService.substitute at 0x00000153CD88CFE0>
    |              └ <app.manager.service.ManagerService object at 0x00000153CE44B1A0>
    |
    |   File "C:\Usman\Projects\fantasy-league\app\manager\service.py", line 479, in substitute
    |     for (pos_id,) in pos_rows:
    |                      └ [1, 2, 1, 2, 3, 2, 2, 2, 3, 3, 3]
    |
    | TypeError: cannot unpack non-iterable int object
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 352
               │     └ 3
               └ <function _main at 0x00000153C82B74C0>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 352
           │    └ <function BaseProcess._bootstrap at 0x00000153C81B0FE0>
           └ <SpawnProcess name='SpawnProcess-9' parent=29256 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000153C81B0540>
    └ <SpawnProcess name='SpawnProcess-9' parent=29256 started>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000153C826F380>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-9' parent=29256 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-9' parent=29256 started>
    │    └ <function subprocess_started at 0x00000153CA66A160>
    └ <SpawnProcess name='SpawnProcess-9' parent=29256 started>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=584, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000153CA7D9CD0>>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=584, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000153CA6694E0>
           │       │   └ <uvicorn.server.Server object at 0x00000153CA7D9CD0>
           │       └ <function run at 0x00000153C88D5C60>
           └ <module 'asyncio' from 'C:\\Users\\ufawa\\AppData\\Roaming\\uv\\python\\cpython-3.12.11-windows-x86_64-none\\Lib\\asyncio\\__...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x00000153CA7A6EA0>
           │      └ <function Runner.run at 0x00000153C9F071A0>
           └ <asyncio.runners.Runner object at 0x00000153C826F710>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000153C9F04E00>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000153C826F710>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 678, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000153C9F04D60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 645, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000153C9F06B60>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\base_events.py", line 1999, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000153C8884EA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000153CA7FD640>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000153CE...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000153CA9A61E0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000153CA7FD640>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000153CE...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000153CE...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000153CD937320>
          └ <fastapi.applications.FastAPI object at 0x00000153CA9A61E0>
> File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000153CE31C360>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.main.RequestLoggingMiddleware object at 0x00000153CD937350>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000153CD937320>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x00000153CB63F4C0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\ufawa\AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError('cannot unpack non-iterable int object')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x00000153CD89D2F0>
    └ <contextlib._GeneratorContextManager object at 0x00000153CE44BF80>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000153CE31C860>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x00000153CE44A120>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.main.RequestLoggingMiddleware object at 0x00000153CD937350>>
                     └ <app.main.RequestLoggingMiddleware object at 0x00000153CD937350>

  File "C:\Usman\Projects\fantasy-league\app\main.py", line 154, in dispatch
    response: Response = await call_next(request)
                               │         └ <starlette.middleware.base._CachedRequest object at 0x00000153CE44A120>
                               └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000153CE31C860>

  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
          └ TypeError('cannot unpack non-iterable int object')
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000153CE414C20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x00000153CD8E01A0>
          └ <app.main.RequestLoggingMiddleware object at 0x00000153CD937350>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          │         │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000153CE414C20>
          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.middleware.gzip.GZipResponder object at 0x00000153CE44BDD0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000153CE414C20>
                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x00000153CB81C860>
          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x00000153CE44BDD0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000153CD937260>
          └ <starlette.middleware.gzip.GZipResponder object at 0x00000153CE44BDD0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"Windows"', 'aut...
          │    │               │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000153CE44BDD0>>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x00000153CB7FA2A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000153CD937260>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000153CD937260...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000153CD937290>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000153CD937260>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000153CD937260...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x00000153CE448BC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000153CD8E1CA0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000153CD937290>
          └ <function wrap_app_handling_exceptions at 0x00000153CB74A160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE414860>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x00000153CD8E1CA0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE414860>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000153CD8E1CA0>>
          └ <fastapi.routing.APIRouter object at 0x00000153CD8E1CA0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE414860>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x00000153CB74B740>
          └ APIRoute(path='/api/v1/managers/{manager_id}/substitute', name='substitute_player', methods=['POST'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE414860>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x00000153CD8EBBA0>
          └ APIRoute(path='/api/v1/managers/{manager_id}/substitute', name='substitute_player', methods=['POST'])
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE414860>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x00000153CE4205F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000153CE401260>
          └ <function wrap_app_handling_exceptions at 0x00000153CB74A160>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000153CE402200>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000153CD931BC0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000153CE401260>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x00000153CE4205F0>
                     └ <function get_request_handler.<locals>.app at 0x00000153CD8EBA60>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000153CB749B20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'user': AuthUser(id=UUID('0000198f-0ecf-6487-ac13-77b9659cdbfb'), role=<UserRole.MANAGER: 'manager'>), 'session': <sqlmodel....
                 │                 │         └ <function substitute_player at 0x00000153CD88E840>
                 │                 └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='manager_id', mode='validation')], query_params=[M...
                 └ <function run_in_threadpool at 0x00000153CB507E20>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function substitute_player at 0x00000153CD88E840>, user=AuthUser(id=UUID('0000198f-0ecf-6487-ac13-77b9659c...
                 │     │         └ <function run_sync at 0x00000153CA69B920>
                 │     └ <module 'anyio.to_thread' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\to_thread.py'>
                 └ <module 'anyio' from 'C:\\Usman\\Projects\\fantasy-league\\.venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x00000153CA698CC0>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('cannot unpack non-iterable int object')>
  File "C:\Usman\Projects\fantasy-league\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "C:\Usman\Projects\fantasy-league\app\manager\routes.py", line 129, in substitute_player
    result = svc.substitute(mid, player_out_id, player_in_id)
             │   │          │    │              └ 24
             │   │          │    └ 9
             │   │          └ UUID('0000198f-0ecf-6487-ac13-77b9659cdbfb')
             │   └ <function ManagerService.substitute at 0x00000153CD88CFE0>
             └ <app.manager.service.ManagerService object at 0x00000153CE44B1A0>

  File "C:\Usman\Projects\fantasy-league\app\manager\service.py", line 479, in substitute
    for (pos_id,) in pos_rows:
                     └ [1, 2, 1, 2, 3, 2, 2, 2, 3, 3, 3]

TypeError: cannot unpack non-iterable int object
2025-08-28 18:49:24.861 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:49:24.927 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:49:28.187 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:49:28.239 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:49:53.839 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:49:53.866 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:49:59.946 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:49:59.958 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:50:11.922 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:50:11.935 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:50:19.735 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:50:19.751 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:52:15.373 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:52:15.481 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:52:19.241 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:52:19.310 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:53:13.619 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:53:13.659 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:53:18.836 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:53:18.853 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:53:24.838 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:53:24.846 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:53:25.193 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:53:25.205 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:53:37.762 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:53:37.766 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:53:54.261 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:53:54.292 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:56:03.951 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:56:04.021 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:56:19.128 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:56:19.194 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:56:47.908 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:56:47.957 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:56:54.927 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:56:54.940 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:57:03.361 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:57:03.373 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:57:19.796 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:57:19.816 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:57:28.085 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:57:28.089 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 18:58:00.678 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 18:58:00.686 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:00:18.541 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:00:18.552 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:01:23.686 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:01:23.692 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:02:19.531 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:02:19.538 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:02:48.013 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:02:48.021 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:03:37.123 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:03:37.197 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:03:43.264 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:03:43.333 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:04:04.286 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:04:04.326 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:04:08.614 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:04:08.630 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:04:14.730 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:04:14.736 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:09:11.538 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:09:11.550 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:09:28.976 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:09:28.992 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:12:43.439 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:12:43.449 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:12:53.799 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:12:53.825 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:13:40.263 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:13:40.271 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:13:52.562 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:13:52.571 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:14:05.925 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:14:05.932 | INFO     | app.main:dispatch:155 - Request completed
2025-08-28 19:14:35.225 | INFO     | app.main:dispatch:153 - Request started
2025-08-28 19:14:35.247 | INFO     | app.main:dispatch:155 - Request completed
